DEFINE VARIABLE mAcctContCrd2 AS CHARACTER NO-UNDO.  /* Маска назначенйи счетов, 
                                                      к которым может открываться
                                                     картотека 2 */ 
DEFINE VARIABLE mAcctMaskCrd2 AS CHARACTER NO-UNDO.  /* Маска номеров счетов,
                                                        к которым может открываться
                                                        картотека 2 */
DEFINE VARIABLE mODAcctContr  AS CHARACTER NO-UNDO.  /* Список назначений для счетов 
                                                        банковских карт. Необходимо для
                                                        подключения стандартных проверок */

ASSIGN
   mAcctContCrd2 = FGetSetting("Карт2НазначСч",?,"Расчет")
   mAcctMaskCrd2 = FGetSetting("Карт2", "Карт2МаскСч", "*")
   mODAcctContr  = FGetSetting("ODAcctContract",?,"")
.

DEFINE TEMP-TABLE ttContCrd NO-UNDO
   FIELD contract AS CHARACTER
   INDEX contract IS PRIMARY contract
.

&IF "{1}" NE "" &THEN
FUNCTION ChkAcctOnComm RETURNS LOGICAL (INPUT iAcct AS CHARACTER) IN {1}.

FUNCTION Chk_OrderPay_For_CBLACCT RETURNS LOGICAL (INPUT iOrderPay AS CHARACTER) IN {1}.

FUNCTION CalcRealAcctPos  RETURNS DECIMAL (INPUT iKau      AS CHARACTER, 
                                           INPUT iKauID    AS CHARACTER,
                                           INPUT iBAcct    AS CHARACTER,
                                           INPUT iBCurr    AS CHARACTER,
                                           INPUT iOrderPay AS CHARACTER,
                                           INPUT iDate     AS DATE) IN {1}.
FUNCTION ChkAcctCart RETURNS LOGICAL (
   INPUT iHAcct   AS HANDLE     /* Указатель на буффер счета. */
) IN {1}.

FUNCTION Chk_AcctRec_For_CBLACCT RETURNS LOGICAL (INPUT iAcctRec  AS CHARACTER) IN {1}.

FUNCTION CheckED275K2 RETURNS CHARACTER (INPUT iOpRECID AS RECID) IN {1}.

&ENDIF


