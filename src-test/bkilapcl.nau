/*
               Банковская интегрированная система БИСквит
    Copyright: (C) 1992-2006 ТОО "Банковские информационные системы"
     Filename: bkilapcl.nav
      Comment: Типы кредитных договоров в НБКИ
   Parameters:
         Uses:
      Used by:
      Created: 26/04/06 ZIAL (0060494) БКИ. Разработка классификаторов для модуля 
               Кредиты и Депозиты
     Modified: 
*/

DEF VAR mCodeMiscLst AS CHAR NO-UNDO.
DEF VAR mCodeMiscElm AS CHAR NO-UNDO.

IF FRAME-FIELD = "misc" 
   AND FRAME-INDEX = 1 THEN 
DO:
   RUN pclass.p ("ТипДогА", "ТипДогА", ?, level + 1).
   IF (LASTKEY = 10 OR LASTKEY = 13) AND pick-value <> ? THEN
   DO:
      mCodeMiscLst = CODE.misc[1]:SCREEN-VALUE IN FRAME edit.
      mCodeMiscElm = ENTRY(1, pick-value).
      {additem.i mCodeMiscLst mCodeMiscElm}
      CODE.misc[1]:SCREEN-VALUE IN FRAME edit = mCodeMiscLst .
   END.
END.
IF FRAME-FIELD = "misc" 
   AND FRAME-INDEX = 2 THEN 
DO:
   RUN pclass.p ("ТипДогА", "ТипДогА", ?, level + 1).
   IF (LASTKEY = 10 OR LASTKEY = 13) AND pick-value <> ? THEN
   DO:
      mCodeMiscLst = CODE.misc[2]:SCREEN-VALUE IN FRAME edit.
      mCodeMiscElm = ENTRY(1, pick-value).
      {additem.i mCodeMiscLst mCodeMiscElm}
      CODE.misc[2]:SCREEN-VALUE IN FRAME edit = mCodeMiscLst .
   END.
END.
